---
title: "simstudy_2"
author: "Mirah"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Design a simulation study 2

Identify a statistical inference tool that could accommodate the correlation and non-normality ((e.g., a robust regression approach, generalized estimating equations (GEE) for correlated data, or a Bayesian method with appropriate priors).

Use simulation that is similar to Simulation 1 to this inference tool provides valid results for non-normal, correlated data, and compare these results to the standard inference tool in study 1.
```{r}
library(tidyverse)
library(ggplot2)  
library(geepack)
```

```{r}
#load simulated data
generated_data = read_csv("./generated_t_copula_data.csv") %>% janitor::clean_names()
  
```

```{r}
#using Gee
library(geepack)

# Example: Modeling glucose as a function of BMI and cholesterol
gee_model <- geeglm(glucose ~ bmi + cholesterol+blood_pressure, 
                     data = generated_data, 
                     family = gaussian, 
                     id = patient_id, 
                     corstr = "exchangeable")

summary(gee_model)

```

